#!@SH_PROG@
# -*- shell-script -*-

test_set0()
{
    if ! enable -f ${top_builddir}/builtin/set0 set0  >/dev/null 2>&1 ; then
	echo 'set0 tests skipped because you do not have the builtin'
	startSkipping
    fi
    typeset oldname=$0
    set0 'newname' 'bar' 2>/dev/null
    assertFalse "set0 should fail." "$?"
    set0 'newname'
    assertTrue "set0 should work this time." "$?"
    assertEquals 'newname' "$0"
    [[ $oldname != $0 ]] 
    assertTrue "old $oldname should not equal new $0" "$?"
}

# Load builtin
top_builddir=@top_builddir@

# load shunit2
. ./shunit2

